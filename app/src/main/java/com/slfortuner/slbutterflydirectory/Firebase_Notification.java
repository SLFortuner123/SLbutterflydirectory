package com.slfortuner.slbutterflydirectory;import androidx.annotation.NonNull;import androidx.appcompat.app.AppCompatActivity;import androidx.recyclerview.widget.LinearLayoutManager;import androidx.recyclerview.widget.RecyclerView;import android.content.Context;import android.os.Bundle;import android.widget.LinearLayout;import com.google.firebase.database.DataSnapshot;import com.google.firebase.database.DatabaseError;import com.google.firebase.database.DatabaseReference;import com.google.firebase.database.FirebaseDatabase;import com.google.firebase.database.Query;import com.google.firebase.database.ValueEventListener;import java.util.ArrayList;import java.util.Queue;public class Firebase_Notification extends AppCompatActivity {    RecyclerView recyclerView;    private DatabaseReference myRf;    private ArrayList<Messages> messagesList;    private RecyclerAdapter recyclerAdapter;    private Context mContext;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate( savedInstanceState );        setContentView( R.layout.activity_firebase__notification );        recyclerView = findViewById( R.id.notification_recyclerview );        LinearLayoutManager layoutManager = new LinearLayoutManager( Firebase_Notification.this );        recyclerView.setLayoutManager( layoutManager );        recyclerView.setHasFixedSize( true );        myRf = FirebaseDatabase.getInstance().getReference();        messagesList = new ArrayList<>(  );        ClearAll();        GetDataFromFirebase();    }    private void GetDataFromFirebase() {        Query query = myRf.child( "message" );        query.addValueEventListener( new ValueEventListener() {            @Override            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {                ClearAll();                for(DataSnapshot snapshot : dataSnapshot.getChildren()){                    Messages messages = new Messages(  );                    messages.setImageURL( snapshot.child( "image" ).getValue().toString() );                    messages.setArticle( snapshot.child( "article" ).getValue().toString() );                    messagesList.add( messages );                }                recyclerAdapter = new RecyclerAdapter( getApplicationContext(), messagesList );                recyclerView.setAdapter( recyclerAdapter );                recyclerAdapter.notifyDataSetChanged();            }            @Override            public void onCancelled(@NonNull DatabaseError error) {            }        } );    }    private void ClearAll(){        if (messagesList != null){            messagesList.clear();            if(recyclerAdapter != null){                recyclerAdapter.notifyDataSetChanged();            }        }        messagesList = new ArrayList<>(  );    }}